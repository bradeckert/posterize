<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
	<title>posterize</title>
	<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
	<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.css" />
	<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
	<link rel="stylesheet" href="posterize.css" />
	<link href="http://fonts.googleapis.com/css?family=Patrick+Hand+SC" rel="stylesheet" type="text/css" />
        <script type="text/javascript">
          var fO = null;
          var ps = null;
        </script>
</head>
<body>
	<!-- Now dynamically filled in -->
</body>


<!-- INTRO PAGE -->
<template name="intro">
  <a href="{{pathFor 'camera'}}">
    <div class="intro"><img src="/assets/posterize_big.png"/></div>
  </a>
</template>


<!-- HEADER FOR HOME / SEARCH -->
<template name="header_home">
  <div class="fixed-top">
    <header class="pheader" role="navigation">
      <img class="posterize_logo" src="/assets/posterize_small.png"/>

      <a href="{{pathFor 'camera'}}">
        <div class="left-button pbutton">
	  <img src="/assets/cam_small.png"/>
        </div>
      </a>

      <div class="right-button pbutton">
        <img src="/assets/search.png"/>
      </div>
    </header>

    <!-- Only displays if search filter is on -->
    <div class="results accent-font">
      Search results
      <div id="x" class="x">&#10006;</div>
    </div>

    <!-- Mine/All toggle -->
    <div class="rdclass-container">
      <div class="radio-wrap half">
        <input type="radio" name="mineall" value="mine"
               class="custom-radio" id="mine" checked="yes" />
        <label for="mine">Mine</label>
      </div>
      <div class="radio-wrap half">
        <input type="radio" name="mineall" value="all"
               class="custom-radio" id="all" />
        <label for="all">All</label>
      </div>
    </div>
  </div>
</template>


<template name="test_form">
  File: <input class="myFileInput" type="file" />
</template>

<!-- CAMERA PAGE -->
<template name="camera">
  <!-- TODO(Cagri): replace with camera integration -->
  {{> test_form}}

  <div class="fixed-bottom">
    <header class="pheader" role="navigation">
      <div class="camera_button pbutton">
	<img src="/assets/cam_big.png"/>
      </div>

      <a href="{{pathFor 'home'}}">
        <div class="right-button pbutton">
	  <img src="/assets/home.png"/>
        </div>
      </a>
    </header>
  </div>

  <!-- Only appears after snapping -->
  <!-- TODO(Brad): optimize appearance for phone -->
  <div id="dialog" class="{{dialog_status}}" title="Remind Me">
    <div class="dialog-header">
      <div>Snapped a new poster...</div>
      <div class="x">&#10006;</div>
    </div>
    <div class="container">
      <div>
        <div> Remind me: </div>
        <input type="checkbox" name="vehicle" value="tonight"/>Tonight<br/>
        <input type="checkbox" name="vehicle" value="tomorrow"/>Tomorrow<br/>
        <input type="checkbox" name="vehicle" value="tomorrow"/>Thursday<br/>
      </div>
      <a href="{{pathFor 'home'}}"><div id="save">Save</div></a>
      <a href="{{pathFor 'poster_info'}}"><div id="edit"> Edit</div></a>
      <div id="discard">Discard</div>
    </div>
  </div>
</template>

<!-- SEARCH SETTINGS -->
<!-- TODO(Brad): fix up appearance and set "search_criterion" based on this,
                 if the search is on - populate with current "search_criterion"
                 values -->
<template name="search_settings">
  <div class="searchView">
    <p><span class="label_big">&nbsp;</span></p>
    <p><span class="label_big">TAGS:</span></p>
    <p>
      <span class="tags">party</span><span class="tags">concert</span>
      <span class="tags">jazz</span><span class="tags">blues</span>
    </p>
    <p><span class="label_big">NEAR:</span></p>
    <p><input type="text" placeholder="Select a Location"/></p>
    <p><span class="label_big">DATE:</span></p>
    <p><span class="label">From:</span> <input type="text" id="datepicker"/></p>
    <p><span class="label">To:</span> <input type="text" id="datepicker"/></p>
  </div>
</template>

<template name="poster_row">
  <div class="scrollable">
    {{#each posters}}
    <a href="{{pathFor 'poster_info'}}">
      {{> poster}}
    </a>
    {{/each}}
  </div>
</template>

<template name="poster">
  <img src="{{url}}" alt="{{file}}"/>
</template>

<!-- HOME PAGE / SEARCH PAGE -->
<template name="home">
  <div class="home-container {{search_label}}">
  {{> header_home}}

  <div class="below-header">
    {{#each rows}}
    <div class="subheader">{{day}}</div>
    {{> poster_row}}
    {{/each}}
  </div>
  </div>

  <!-- Only appears when search is pressed -->
  <div id="dialog" class="hidden search" title="Search">
    <div class="dialog-header">
      <div>Search for posters...</div>
      <div class="x">&#10006;</div>
    </div>
    <div class="container">
      {{> search_settings}}
      <div id="search">Search</div>
      <div id="cancel">Cancel</div>
    </div>
  </div>
</template>


<!-- HEADER FOR VIEW PAGE -->
<template name="header_poster_info">
  <div class="fixed-top">
    <header class="pheader" role="navigation">
      <img class="posterize_logo" src="/assets/posterize_small.png"/>

      <a href="{{pathFor 'home'}}">
        <div class="left-button pbutton">
	  <img src="/assets/back.png"/>
        </div>
      </a>

      <a href="{{pathFor 'edit_poster_info'}}">
        <div class="right-button pbutton">
          <img src="/assets/edit.png"/>
        </div>
      </a>
    </header>
  </div>
</template>

<!-- POSTER VIEW PAGE -->
<template name="poster_info">
  <div class="view-container view">
  	{{> header_poster_info }}

	  <div class="below-header">
	    <div class="poster_view">
	      <div class="poster_img">
					<img src="{{poster.url}}"/>
	      </div>

	      <div class="container">
	        <!-- TODO(Masha): Make look nice -->
					{{#if hasDetail}}
						{{#if hasTitle}}
							<div class="title">{{poster.title}}</div>
						{{/if}}
						{{#if hasWhere}}
							<div class="detail">{{poster.where}}</div>
						{{/if}}
						{{#if hasDate}}
							<div class="detail">{{poster.date}}</div>
						{{/if}}
						{{#if hasTime}}
							<div class="detail">{{poster.time}}</div>
						{{/if}}
						{{#if hasTags}}
							<div class="detail">{{poster.tags}}</div>
						{{/if}}
						{{#if hasNotes}}
							<div class="notes">{{poster.notes}}</div>
						{{/if}}
					{{else}}
						<div class="title">
							<span>Add info now</span>
							<a href="{{pathFor 'edit_poster_info'}}">
								<div class="right-button pbutton">
									<img src="/assets/edit.png"/>
								</div>
							</a>
						</div>
					{{/if}}

					<div class="share">
					  <img class="small_icon" src="/assets/facebook.png"/>
					  <img class="small_icon" src="/assets/twitter.png"/>
					  <img class="small_icon" src="/assets/google.png"/>
					  <img class="small_icon" src="/assets/calendar.png"/>
					</div>
      	</div>
    	</div>
  	</div>
  </div>
</template>

<!-- HEADER FOR EDIT PAGE -->
<template name="header_poster_edit">
  <div class="fixed-top">
    <header class="pheader" role="navigation">
      <img class="posterize_logo" src="/assets/posterize_small.png"/>

      <!-- TODO(Brad): path should be set to home or camera,
                       depending on the entrance point -->
      <a href="">
        <div class="left-button pbutton">
	  <img src="/assets/back.png"/>
        </div>
      </a>

      <!-- TODO(Brad): implement deletion
                       (would be good to ask for confirmation) -->
      <div class="right-button pbutton">
        <img src="/assets/trash.png"/>
      </div>
    </header>
  </div>
</template>

<!-- ADD INFO PAGE -->
<!-- TODO(Brad): Implement Edit page -->
<template name="edit_poster_info">
  <div class="view-container edit">
    {{> header_poster_edit }}

    <div class="below-header">
      <div class="poster_view">
        <div class="poster_img">
	  <img src="{{poster.url}}"/>
        </div>

        <div class="container">
	  <div>
            <span class="label">Title:</span> <input type="text"/>
          </div>

	  <div>
            <span class="label">Tags:</span><input type="text"/>
          </div>

	  <div>
            <span class="label">Where:</span> <input type="text"/>
          </div>

	  <div>
            <span class="label">Date:</span> <input type="text" id="datepicker"/>
          </div>

	  <div>
            <span class="label">Time:</span><input type="text" id="timepicker"/>
          </div>

	  <div>
            <span class="label">Notes:</span> <textarea rows="3" cols="22"></textarea>
          </div>
          <!-- TODO(Brad): should provide (at least placeholder) privacy controls:
                           Let others edit, etc. -->

          <!-- TODO(Brad): implement -->
	  <a href="{{pathFor 'poster_info'}}">
	    <div id="save">Save</div>
	    <div id="cancel">Cancel</div>
	  </a>
        </div>
      </div>
    </div>
  </div>
</template>
